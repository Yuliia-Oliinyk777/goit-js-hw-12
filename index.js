import{a as p,i,S as h}from"./assets/vendor-CRwkH7JT.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const n of r.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&s(n)}).observe(document,{childList:!0,subtree:!0});function o(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(t){if(t.ep)return;t.ep=!0;const r=o(t);fetch(t.href,r)}})();const y=({webformatURL:a,largeImageURL:e,tags:o,likes:s,views:t,comments:r,downloads:n})=>`<li class="gallery-item">
        <a href="${e}">
          <img src="${a}" alt="${o}" loading="lazy" />
        </a>
        <div class="info">
          <p>Likes: ${s}</p>
          <p>Views: ${t}</p>
          <p>Comments: ${r}</p>
          <p>Downloads: ${n}</p>
        </div>
      </li>`;p.defaults.baseURL="https://pixabay.com";const L=(a,e)=>{const o={params:{key:"45636659-15209a2e9fad59db9d3b17888",q:a,page:e,per_page:15,image_type:"photo",orientation:"horizontal",safesearch:!0}};return p.get("/api/",o)},f=document.querySelector(".search-form"),c=document.querySelector(".gallery-list"),u=document.querySelector(".loader"),m=document.querySelector(".load-btn");let l=1,d="",g=0,b=0;const C=async a=>{try{a.preventDefault(),d=f.elements.user_query.value.trim(),l=1;const e=await L(d,l);if(console.log(e),d===""){i.show({message:"Please enter a search term.",messageColor:"#ffffff",backgroundColor:"#ef4040",position:"topRight"}),c.innerHTML="";return}if(f.reset(),c.innerHTML="",e.data.hits.length===0){i.warning({message:"Sorry, there are no images matching your search query. Please try again!",messageColor:"#ffffff",backgroundColor:"#ef4040",position:"topRight"});return}const o=e.data.hits.map(t=>y(t)).join("");c.innerHTML=o,new h(".gallery-item a",{captions:!0,captionsData:"alt",captionDelay:250}).refresh(),b=document.querySelector(".gallery-item").getBoundingClientRect().height,g=Math.ceil(e.data.totalHits/e.data.hits.length),g>1&&m.classList.remove("is-hidden")}catch(e){i.error({message:`Something went wrong: ${e.message}`,backgroundColor:"#ef4040",messageColor:"#ffffff",position:"topRight"})}},w=async a=>{try{u.classList.remove("is-hidden"),l++;const e=await L(d,l);console.log(e);const o=e.data.hits.map(s=>y(s)).join("");if(c.insertAdjacentHTML("beforeend",o),new h(".gallery-item a",{captions:!0,captionsData:"alt",captionDelay:250}).refresh(),scrollBy({top:b*2,behavior:"smooth"}),l>=g){i.warning({message:"We're sorry, but you've reached the end of search results",messageColor:"#ffffff",backgroundColor:"#ef4040",position:"topRight"}),m.classList.add("is-hidden");return}}catch(e){i.error({message:`Something went wrong: ${e.message}`,backgroundColor:"#ef4040",messageColor:"#ffffff",position:"topRight"})}finally{u.classList.add("is-hidden")}};f.addEventListener("submit",C);m.addEventListener("click",w);
//# sourceMappingURL=index.js.map
